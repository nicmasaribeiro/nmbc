<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>bib.io</title>
		<link rel="stylesheet" type="text/css" href="pages-index.css">
		<style>
			
			body {
				background: grey;
				font-family: Arial, sans-serif;
				margin: 0;
				padding: 0;
				color: white;
			}
			
			.header {
				background: #4a4b7a;
				padding: 20px;
				text-align: center;
				font-size: 24px;
			}
			
			.download, button {
				background: #f8b400;
				color: black;
				padding: 10px 20px;
				margin: 10px;
				border: none;
				cursor: pointer;
				font-size: 16px;
				border-radius: 5px;
				text-decoration: none;
				display: inline-block;
			}
			.download:hover, button:hover {
				background: #e09e00;
			}
			
			.grid-container {
				display: grid;
				grid-template-columns: auto auto;
				background: black;
				padding: 20px;
			}
			.grid-item {
				padding: 20px;
				font-size: 18px;
				text-align: center;
				color: white;
			}
			
			.scroll {
				background: #038cfc;
				padding: 20px;
				border-radius: 12px;
				width: 100%;
				overflow-x: hidden;
				text-align: justify;
			}
			.scroll #note_bubble {
				background: black;
				color: white;
				padding: 20px;
				border-radius: 12px;
				font-size: 18px;
				margin-bottom: 20px;
			}
			.scroll #note_bubble:hover {
				background: #fffcde;
				color: black;
				font-size: 20px;
			}
			
			#stats {
				background: #fffcde;
				padding: 10px;
				text-align: center;
				color: black;
			}
			
		</style>
		
		<link rel="stylesheet" type="text/css" href="styles/sytles.css">		
		
		<script>
		
			window.onbeforeunload = function () {return 'return';};
			
			var myStorage = window.localStorage;
			
			var noteStorage = window.sessionStorage;
					
			
		</script>
	
	</head>
	<body>
		<div class="header">
			<a href="../index.html"><h1>LKSE</h1></a>
			<p>Welcome to Logknot Student Exchange</p>
		</div>
	
	<div id="blank_space"></div>
		
				<a onclick="this.href='data:text/html;charset=UTF-8,'+encodeURIComponent(document.documentElement.outerHTML)" href="#" download="page.html"><div class="download">Download Bibliography</div></a>
		<div id="blank_space"></div>
	
	<div>
	<button hidden onclick="window.print();return false;">print</button>
	<button  onclick="authDoc()">authorize</button>
	</div>


	<div class ="grid-container" id="meta">
		
		<div class="grid-item" id="aut"></div>
		<div class="grid-item" id="aud"></div>
		
		<script>
		function authDoc() {
		
			var author =  prompt('request author', 'id');
			var audiance = prompt('request audiance', 'id');
			
			document.getElementById('aut').innerHTML = author;
			document.getElementById('aud').innerHTML = audiance;
		}
		</script>
	</div>

	<div id="blank_space"></div>
	
	<div id="grid-container">
		 <div id="grid_item">
			<div id="toggle"> 
				<button onclick="toggle1('img_view1')" style="padding: 30px 30px 30px 30px;font-size: 20px;font-style: italic;border-radius: 12px;"><strong>toggle1</strong></button> 
																		<script> toggle1 = function (id) { var e = document.getElementById('img_view'); if (e.style.display === 'none') { e.style.display = 'block'; } else { e.style.display = 'none' } } </script> 
																		
				<div id="img_view"> 
					<div> 
						<h2> Document <em>CAPTURE</em> </h2> 
						<input type="file" accept="/*" capture="enviroment" onchange="openFile(event)"> 
					</div> 
				<div id="blank_space">
					
			</div>
						
																		<script> var openFile = function (event) { var input = event.target; var reader = new FileReader(); reader.onload = function () { var dataURL = reader.result; var output = document.getElementById("img"); output.src = dataURL; }; reader.readAsDataURL(input.files[0]); }; </script> 
						
						<!-- ======= image view <======> <input type="file". onchange="openFile(event)"> --> <div> <iframe class="frame" id="img" width="54%" height="500px"></iframe> </div> </div> <div></div> </div></div>  </div></div> </div>

	<div id="blank_space"></div>
	
	<div id="stats">
		<h3><em> ( # of queries)</em></h3>
		<div>
		<h2 style="font-size: 25px;">  ∆ count Ω <div id="counter"></div></h2>
		</div>
	</div>
	<div id="blank_space"></div>
	
<!-- ====== INPUT FORM ======= -->
		<form action="#" onsubmit="addNote(); return false;">
			<textarea id="note" type="text" style="width: 100%;font-size: 20px;" spellcheck="on"></textarea>
			<input id="notename" type="text">
			<input type="submit">
		</form>
<!-- ====== INPUT FORM ======= -->

		
		<div id="blank_space"></div>


<!-- ====== NOTE PAD AREA ======= -->
		<div class="scroll" id="note_pad"></div>
<!-- ====== NOTE PAD AREA ======= -->



		<div id="counter">0</div>
		
		<script>
			let c = 0;
			myStorage.setItem('count', c);
			document.getElementById('counter').innerHTML = myStorage.getItem('count');
		</script>

				
		<script> //start script

		
		let area = document.getElementById('note_pad');
		
		var count = c;
		
		
		
		function addNote() {
			
			count = count + 1;
			myStorage.setItem('count', count);
			
			document.getElementById('counter').innerHTML = myStorage.getItem('count');
			
			var n = document.getElementById('note');

			var name = document.getElementById('notename');
			var namearea = document.createElement('h3');
			namearea.innerHTML = name.value;

		// CREATE CONTAINER FOR #n-INPUTs ==> new var1 ==> FULL-TEXT-AREA___div
							var full_area = document.createElement('div');
								full_area.setAttribute('id', 'full_area');
			
			
						
			
		//	CAPUTURE TEXT INPUT ==to=> new var3 ===> N0TE___div
							var note = document.createElement('div');
								note.setAttribute('id', 'note_bubble');
												
												note.innerHTML = n.value;

			

		//	CAPUTURE TEXT INPUT ==to=> new var4 ===> TEXT-N0TE___textarea
							var text_note = document.createElement('textarea');
								text_note.setAttribute('id', 'note_textArea');
									
												text_note.innerHTML = n.value;
												

		// CREATE INDEX ==> new varT ==> FULL-TEXT-AREA___div
							var index = document.createElement('h3');
							index.setAttribute('id', 'index');
							index.innerHTML = count + " )   "  + name.value;
							
		// assign iframe
							var html = document.getElementById('img');
							var iframe = document.createElement('div');
							var iframe = html.innerHTML;

							


		//	APPEND VARS TO [ #2 ] <=== to ==>  [ [#3] , [#4] ]
							full_area.appendChild(index);
							full_area.appendChild(note);
							full_area.appendChild(text_note);
							full_area.append(iframe);
							
//							full_area.append("<hr>");
							
							

		//	APPEND VARS TO [ #1 ] <=== to ==>  { [ #1 ] : [ [#3] , [#4] ] }	
							area.appendChild(full_area);
		
	
	// ADD noteINPUT TO SEESSION-STORAGE   		
				noteStorage.setItem(count, n.value);
	
	// RESET INPUT AREA 		
			n.value = "";
			name.value="";
			
			
// END OF FUNCTION == ADD NOTE ==> 		
		};
			
		//end script </script>

		
		
	</body>
</html>